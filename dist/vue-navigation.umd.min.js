/**
* vue-navigation v1.1.5
* https://github.com/zack24q/vue-navigation
* Released under the MIT License.
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.VueNavigation=t()}(this,function(){"use strict";var e=[];window.sessionStorage.VUE_NAVIGATION&&(e=JSON.parse(window.sessionStorage.VUE_NAVIGATION));var I=e;function x(e,t){return(e.name||e.path)+"?"+e.query[t]}var g=function(N,A,E,w){A&&A.registerModule(E,{state:{routes:I},mutations:{"navigation/FORWARD":function(e,t){t.to,t.from;var n=t.name;e.routes.push(n)},"navigation/BACK":function(e,t){t.to,t.from;var n=t.count;e.routes.splice(e.routes.length-n,n)},"navigation/REPLACE":function(e,t){t.to,t.from;var n=t.name;e.routes.splice(I.length-1,1,n)},"navigation/REFRESH":function(e,t){t.to,t.from},"navigation/RESET":function(e){e.routes.splice(0,e.routes.length)}}});return{record:function(e,t,n){var o,r,i,a,s,c,u,f,l,m,g,h,v,p,d,y=x(e,w);if(n)h=y,v={route:e},p={route:t},d=A?A.state[E].routes:I,p.name=d[d.length-1]||null,v.name=h,A?A.commit("navigation/REPLACE",{to:v,from:p,name:h}):d.splice(I.length-1,1,h),window.sessionStorage.VUE_NAVIGATION=JSON.stringify(d),N.$emit("replace",v,p);else{var O=I.lastIndexOf(y);-1===O?(f=y,l={route:e},m={route:t},g=A?A.state[E].routes:I,m.name=g[g.length-1]||null,l.name=f,A?A.commit("navigation/FORWARD",{to:l,from:m,name:f}):g.push(f),window.sessionStorage.VUE_NAVIGATION=JSON.stringify(g),N.$emit("forward",l,m)):O===I.length-1?(s={route:e},c={route:t},u=A?A.state[E].routes:I,s.name=c.name=u[u.length-1],A&&A.commit("navigation/REFRESH",{to:s,from:c}),N.$emit("refresh",s,c)):(o=I.length-1-O,r={route:e},i={route:t},a=A?A.state[E].routes:I,i.name=a[a.length-1],r.name=a[a.length-1-o],A?A.commit("navigation/BACK",{to:r,from:i,count:o}):a.splice(I.length-o,o),window.sessionStorage.VUE_NAVIGATION=JSON.stringify(a),N.$emit("back",r,i))}},reset:function(){A?A.commit("navigation/RESET"):I.splice(0,I.length),window.sessionStorage.VUE_NAVIGATION=JSON.stringify([]),N.$emit("reset")}}},h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}return{install:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.router,o=t.store,r=t.moduleName,i=void 0===r?"navigation":r,a=t.keyName,s=void 0===a?"VNK":a;if(n){var c,u=new e,f=g(u,o,i,s),l=n.replace.bind(n),m=!1;n.replace=function(e,t,n){m=!0,l(e,t,n)},n.beforeEach(function(e,t,n){if(e.query[s])n();else{var o=h({},e.query);e.path===t.path&&function(e,t){if(e===t)return!0;var n=Object.getOwnPropertyNames(e),o=Object.getOwnPropertyNames(t);if(n.length!==o.length)return!1;for(var r=0;r<n.length;r++)if(e[n[r]]!==t[n[r]])return!1;return!0}(h({},e.query,v({},s,null)),h({},t.query,v({},s,null)))&&t.query[s]?o[s]=t.query[s]:o[s]="xxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}),n({name:e.name,params:e.params,query:o,replace:m||!t.query[s]})}}),n.afterEach(function(e,t){f.record(e,t,m),m=!1}),e.component("navigation",(c=s,{name:"navigation",abstract:!0,props:{},data:function(){return{routes:I}},computed:{},watch:{routes:function(e){for(var t in this.cache)if(o=e,r=t,!(Array.isArray(o)?-1<o.indexOf(r):"string"==typeof o?-1<o.split(",").indexOf(r):isRegExp(o)&&o.test(r))){var n=this.cache[t];n&&n.componentInstance.$destroy(),delete this.cache[t]}var o,r}},created:function(){this.cache={}},destroyed:function(){for(var e in this.cache){var t=this.cache[e];t&&t.componentInstance.$destroy()}},render:function(){var e=this.$slots.default?this.$slots.default[0]:null;if(e){e.key=e.key||(e.isComment?"comment":e.tag);var t=x(this.$route,c);-1===e.key.indexOf(t)&&(e.key="__navigation-"+t+"-"+e.key),this.cache[t]?e.key===this.cache[t].key?e.componentInstance=this.cache[t].componentInstance:(this.cache[t].componentInstance.$destroy(),this.cache[t]=e):this.cache[t]=e,e.data.keepAlive=!0}return e}})),e.navigation=e.prototype.$navigation={on:function(e,t){u.$on(e,t)},once:function(e,t){u.$once(e,t)},off:function(e,t){u.$off(e,t)},getRoutes:function(){return I.slice()},cleanRoutes:function(){return f.reset()}}}else console.error("vue-navigation need options: router")}}});